{% extends 'base.html' %}
{% load static %}
{% block content %}
<link rel="stylesheet" href="{% static 'css/show14.css' %}">
<script src="{% static 'js/show14.js' %}"></script>

<div "market_div">
   <ul class="marquee">
      <div class="col-md-2 col-sm-3 hidden-xs text-center">
          <h5 class="game-title">TEEN PATTI T20</h5>
      </div>
      <marquee>
        <li class="marquee-txt">
         ✺  Payout : Bahar 1st Card 25% and All Other Andar-Bahar Cards 100%.
        </li>
      </marquee>
   </ul>
   <!-- Body Code start -->
   <div class="container">
      <!-- Market Bet Board start -->
      <div class="live-casino-player">
         <div class="video-area">
            <div class="fp-remoteVideo">
               <span class="blink-text" style="right: 0px; position: absolute; margin-top: 9%; margin-right: 2%; font-size: 15px; padding: 5px; background: linear-gradient(90deg, rgb(0, 0, 0) 0px, rgba(37, 36, 36, 0.55) 100%); border-top: 2px solid rgb(255, 255, 255); border-bottom: 2px solid rgb(255, 255, 255); color: rgb(48, 220, 80); display: none;" id="winner_over_video"></span>
               <div class="display">
                  <i aria-hidden="true" class="fa fa-spinner fa-pulse fa-3x fa-fw" id="preloader" style="position: absolute; top: 43%; left: 47.5%; color: rgb(255, 255, 255); display: none;"></i>
                  <iframe src="http://206.189.128.89/Teenpatti%20T20/" style="border-radius: 1px;border: 4px solid #fbc832;"></iframe>
                  <div class="col-md-12 col-sm-12 col-xs-12 nopadding white" style="line-height:20px;text-align:center"> Stake Limit : <span class="red">100</span>&nbsp; -&nbsp; <span class="text-bold red">5000</span></div>
               </div>
               <div class="text-center">
                  <form class="form-horizontal ng-untouched ng-pristine ng-valid" id="form" novalidate="" role="form">
                     <div class="form-group">
                        <div>
                           <button class="btn btn-default fa fa-play" id="playBtn" type="button" disabled=""></button>
                        </div>
                     </div>
                  </form>
               </div>
            </div>
            <div class="player-cards pl-crd andar-bahar">
               <div class="player-cont row">
                  <div class=" teen-patti hidden-xs">
                     <div class="playera text-center">
                        <h6 _ngcontent-mds-c3="">Player A</h6>
                        <div class="livecard flipcard h flip">
                           <div class="front"><img src=""></div>
                           <div class="back"><img class="casinocard p1a1" style="border-radius:5px;border: 1px solid #fccd34;" src="{% static '/images/1.png' %}"></div>
                        </div>
                        <div class="livecard flipcard h flip">
                           <div class="front"><img src=""></div>
                           <div class="back"><img class="casinocard p1a2" style="border-radius:5px;border: 1px solid #fccd34;" src="{% static '/images/1.png' %}"></div>
                        </div>
                        <div class="livecard flipcard h flip">
                           <div class="front"><img src=""></div>
                           <div class="back"><img class="casinocard p1a3" style="border-radius:5px;border: 1px solid #fccd34;" src="{% static '/images/1.png' %}"></div>
                        </div>
                     </div>
                     <br>
                     <div class="playerb text-center">
                        <h6>Player B</h6>
                        <div class="livecard flipcard h flip">
                           <div class="front"><img src=""></div>
                           <div class="back"><img class="casinocard p2a1" style="border-radius:5px;border: 1px solid #fccd34;" src="{% static '/images/1.png' %}"></div>
                        </div>
                        <div class="livecard flipcard h flip">
                           <div class="front"><img src=""></div>
                           <div class="back"><img class="casinocard p2a2" style="border-radius:5px;border: 1px solid #fccd34;" src="{% static '/images/1.png' %}"></div>
                        </div>
                        <div class="livecard flipcard h flip">
                           <div class="front"><img src=""></div>
                           <div class="back"><img class="casinocard p2a3" style="border-radius:5px;border: 1px solid #fccd34;" src="{% static '/images/1.png' %}"></div>
                        </div>
                     </div>
                  </div>
                  <div class=" teen-patti visible-xs">
                     <div class="playera text-center" style="text-align: center;width: 40%;">
                        <h6>Player A</h6>
                        <div class="livecard flipcard h flip">
                           <div class="front"><img src=""></div>
                           <div class="back"><img class="casinocard p1a1" style="border-radius:5px;border: 1px solid #fccd34;" src="{% static '/images/1.png' %}"></div>
                        </div>
                        <div class="livecard flipcard h flip">
                           <div class="back"><img class="casinocard p1a2" style="border-radius:5px;border: 1px solid #fccd34;" src="{% static '/images/1.png' %}"></div>
                        </div>
                        <div class="livecard flipcard h flip">
                           <div class="front"><img src=""></div>
                           <div class="back"><img class="casinocard p1a3" style="border-radius:5px;border: 1px solid #fccd34;" src="{% static '/images/1.png' %}"></div>
                        </div>
                     </div>
                     <br>
                     <div class="playerb text-center" style="text-align: center;width: 40%;">
                        <h6>Player B</h6>
                        <div class="livecard flipcard h flip">
                           <div class="front"><img src="{% static '/images/back.png' %}"></div>
                           <div class="back"><img style="border-radius:5px;border: 1px solid #fccd34;" class="casinocard p2a1" src="{% static '/images/1.png' %}"></div>
                        </div>
                        <div class="livecard flipcard h flip">
                           <div class="front"><img src=""></div>
                           <div class="back"><img style="border-radius:5px;border: 1px solid #fccd34;" class="casinocard p2a2" src="{% static '/images/1.png' %}"></div>
                        </div>
                        <div class="livecard flipcard h flip">
                           <div class="front"><img src=""></div>
                           <div class="back"><img style="border-radius:5px;border: 1px solid #fccd34;" class="casinocard p2a3" src="{% static '/images/1.png' %}"></div>
                        </div>
                     </div>
                  </div>
               </div>
            </div>
         </div>
      </div>
      <div class="match-odds">
         <div class="marketborder">
            <div class="col-md-12 col-sm-12 nopadding">
               <h1 class="markettitle text-center" style="display:table;width:100%"><span id="roomIdspan" style="float:left">ROUND ID : 7093394</span>
                  <span id="roomidspan" style="float:right">TEENPATTI T20</span>
               </h1>
            </div>
            <div class="marketdivcontent">
               <div class="nopadding" posr="">
                  <div class="posr">
                     <table class="table table-market noMarginBottom">
                        <thead>
                           <tr class="">
                              <th style="border: 1px solid #fbc832;" class="text-left bettitle runnertitle no-tr-border-right stackvalue">
                                 <span style="color:#fbc832;">Match Odds</span>
                              </th>
                              <!---->
                              <th class="text-center white" style="border: 1px solid #fbc832;width:26.5%">BACK</th>
                           </tr>
                        </thead>
                        <tbody>
                           <!---->
                           <tr class="">
                              <td class="Title player-a text-left white posr">
                                 Player A <span style="display: block;font-weight: 700;" class="red" id="withBet1">0.00</span>
                                 <!---->
                              </td>
                              <td class="back-rate-header text-center cursor-pointer" onclick="betSlipPageLoad(&quot;A&quot;,&quot;1&quot;)" style="width:26.5%;border-right: 1px solid #000;">
                                 <a class="open-bet">
                                    <div class="price"></div>
                                    1.96
                                 </a>
                              </td>
                           </tr>
                           <tr class="">
                              <td class="Title player-b text-left white posr">
                                 Player B <span style="display: block;font-weight: 700;" class="red" id="withBet3">0.00</span>
                                 <!---->
                              </td>
                              <td class="back-rate-header text-center cursor-pointer" onclick="betSlipPageLoad(&quot;B&quot;,&quot;3&quot;)" style="width:26.5%;border-right: 1px solid #000;">
                                 <a class="open-bet">
                                    <div class="price"></div>
                                    1.96
                                 </a>
                              </td>
                           </tr>
                           <!---->
                        </tbody>
                     </table>
                     <!---->
                     <!---->
                     <div class="game-status" id="game_status" style="display: none;">
                        <span id="status_message" style="color:#fbc832;font-weight:bold;font-size:13px;">SUSPENDED</span>
                     </div>
                     <div class="clearfix"></div>
                  </div>
               </div>
            </div>
         </div>
      </div>
      </div>
      <form accept-charset="UTF-8"  class="input-coin market-form show_bet_place_btn" data-remote="true" method="post" style="display:none;">
        {% csrf_token %}
         <div style="display:none"><input name="utf8" type="hidden" value="✓"></div>
         <div class="market-block" style="float: left;">
            <text class="align-to-right-on-mobile" style="font-weight: bold;">Market :</text>
            <text class="align-to-right-on-mobile" id="market_nm"></text>
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            <br class="break-on-mobile">
            <text class="align-to-right-on-mobile" style="font-weight: bold;">RATE :</text>
            <text class="align-to-right-on-mobile" id="market_rt"></text>
            <input id="market_type" type="hidden" name="market_type" value="">
            <input id="market_rate" type="hidden" name="market_rate" value="">
            <input id="runner_id" type="hidden" name="runner_id" value="">
            <input id="market_name" type="hidden" name="market_name" value="">
            <input id="market_id" type="hidden" name="market_id" value="">
            <input id="market_event_name" type="hidden" name="event_name" value="">
            <input id="match_winner_heroic_market_type" type="hidden" name="heroic_market_type" value="">
         </div>
         <div class="place-amount load-button-new-class place-amount-div">
            AMOUNT:  <span class=""><input class="amt_field1" autocomplete="off" style="text-decoration:none;line-height: normal;" id="coin_countity_bet" type="text" name="stack" title="Coin"></span>
            <!-- <button class="inplay-show-amount" type="submit" style="color:#61ACDE;">DONE</button>  -->
            <button type="submit" class="button alert round amount-btn-color place-bet-done-btn">Done</button>
         </div>
      </form>
      <!-- Market Bet Amount Form End -->
      <div class="place-amount load-button-new-class enter-default-value place-bet-buttons-div" style="display: none;">
         <table class="bet-value-buttons-table lg-table">
            <tbody>
               <tr>
                  <td><button amt-value="10000" class="default-value-btn">10H</button></td>
                  <td><button amt-value="25000" class="default-value-btn">25 H</button></td>
                  <td><button amt-value="50000" class="default-value-btn">50 H</button></td>
                  <td><button amt-value="100000" class="default-value-btn">1 L</button></td>
                  <td><button amt-value="200000" class="default-value-btn">2 L</button></td>
                  <td rowspan="2"><button amt-value="clear" class="default-value-btn bet-value-clear-button">Clear</button></td>
               </tr>
               <tr>
                  <td><button amt-value="300000" class="default-value-btn">3 L</button></td>
                  <td><button amt-value="400000" class="default-value-btn">4 L</button></td>
                  <td><button amt-value="500000" class="default-value-btn">5 L</button></td>
                  <td><button amt-value="1000000" class="default-value-btn">10 L</button></td>
                  <td><button amt-value="2500000" class="default-value-btn">25 L</button></td>
               </tr>
            </tbody>
         </table>
         <table class="bet-value-buttons-table sm-table">
            <tbody>
               <tr>
                  <td><button amt-value="10000" class="default-value-btn">10H</button></td>
                  <td><button amt-value="25000" class="default-value-btn">25 H</button></td>
                  <td><button amt-value="50000" class="default-value-btn">50 H</button></td>
                  <td><button amt-value="100000" class="default-value-btn">1 L</button></td>
                  <td><button amt-value="200000" class="default-value-btn">2 L</button></td>
               </tr>
               <tr>
                  <td><button amt-value="300000" class="default-value-btn">3 L</button></td>
                  <td><button amt-value="400000" class="default-value-btn">4 L</button></td>
                  <td><button amt-value="500000" class="default-value-btn">5 L</button></td>
                  <td><button amt-value="1000000" class="default-value-btn">10 L</button></td>
                  <td><button amt-value="2500000" class="default-value-btn">25 L</button></td>
               </tr>
               <tr>
                 <td><button amt-value="clear" class="default-value-btn bet-value-clear-button">Clear</button></td>
               </tr>
            </tbody>
         </table>
      </div>
   </div>
</div>

<style type="text/css">

@media (min-width: 1200px){
.container {
    max-width: 800px;
}
}

.table-market thead tr {
  background-color: #000;
}

.table-market {
    background-color: rgba(25,28,41,.7);
    border: 1px solid rgb(8 8 8);
}

.table-market .back-rate-header {
    background-color: #deab07;
    font-weight: 900!important;
    text-transform: uppercase;
    border-color: #000000;
    color: white;
}

.player-a{
  background: #8e551f;
}

.player-b{
  background: #8e551f;
}

.match-odds {
  padding-top: 15px;
}

#roomIdspan {
  font-size: 18px;
}

#roomidspan {
  font-size: 18px;
}

.marketborder {
    margin-bottom: 5px;
    overflow: hidden;
}

.nopadding {
    padding: 0!important;
}

.posr {
    position: relative!important;
    font-weight: 900;
}

.table-market {
    background-color: rgba(25,28,41,.7);
    border: 1px solid rgba(255,255,255,.08);
}
.noMarginBottom {
    margin-bottom: 0;
}

.markettitle span {
    color: #fcce34;
    background: #13151c;
    border: 1px solid #fcce34;
    padding: 2px 20px;
    letter-spacing: 0;
    border-radius: 20px;
}

.teen-patti {
  width: 100%;
}

.blink-text {
  color: #000;
  font-weight: bold;
  font-size: 2rem;
  animation: blinkingText 2s infinite;
}

.video-area {
  max-height: 480px;
}
.red {
    color: #ee3424;
}

#playBtn:disabled {
    display: none;
}

#playBtn {
    position: absolute;
    left: 47%;
    top: 40%;
    font-size: 30px;
    height: 60px;
    width: 60px;
    border-color: #febd00!important;
    background-color: #febd00!important;
}

.market_type_row{
  background-color: #6E8FC9 !important;
}

.marquee{
  display: flex;
  background-color: black
}

.marquee-txt {
    white-space: nowrap;
    background: linear-gradient(to right,red,#ff0,#ff0,#0f0,#ffc800);
    -webkit-background-clip: text;
    color: transparent;
}

.visible-lg, .visible-md, .visible-sm, .visible-xs {
    display: none!important;
}

.text-center {
    text-align: center;
}

iframe {
    width: 100%;
    height: 450px;
    border: none}
iframe html body {
    background-color: transparent!important}
.live-casino-player iframe html body {
    margin: 0!important;
    overflow: hidden!important;
    background-color: transparent!important}
.live-casino-player,.video-area {
    position: relative}

.fp-remoteVideo {
  width: 100%;
  height: 100%;
  background: #000;
  display: inline-block
}
.display {
  width: 100%!important;
  min-height: 440px;
  display: inline-block
}

.white {
    color: #fff;
}
.nopadding {
    padding: 0!important;
}

.player-cards {
    border-radius: 5px;
    background-color: rgba(0,0,0,.9);
    padding: 10px 5px;
    color: #fff;
    width: 182px;
    overflow: hidden;
    margin: 0 auto;
    border: 1px solid #fbc832;
    position: relative;
    top: 0;
    left: 0}
.pl-crd {
    position: absolute;
    top: 10px;
    left: 10px;
    width: 260px}
.player-cards.andar-bahar {
    padding: 5px;
    overflow: visible}
.player-cards h6 {
    margin-top: 0;
    margin-bottom: 10px;
    font-size: 14px;
    text-transform: uppercase;
    padding: 0 5px}
.player-cards.teen-patti h6 {
    text-align: center}
.player-cards.poker h6 {
    text-align: center;
    margin-bottom: 5px;
    line-height: 100%}
.player-cards.andar-bahar h6 {
    font-size: 12px;
    text-align: center;
    margin-bottom: 3px;
    padding: 0}
.player-cont {
    margin-bottom: 3px}
.player-cards.andar-bahar .player-cont {
    position: relative}
.player-cards.andar-bahar .player-cont .badge {
    margin-top: -4px;
    margin-right: 2px;
    background-color: #fff;
    color: #000;
    padding: 2px 4px 1px;
    font-weight: 600;
    text-align: center}
.player-cont: last-child {
    margin-bottom: 0}
.player-cont.w-50 {
    float: left;
    width: 50%}
.player-cards h6 span {
    width: 20px;
    height: 20px;
    border-radius: 50%;
    color: #fff;
    text-align: center;
    font-size: 1em;
    float: right;
    background-color: #00f;
    line-height: 1.5;
    margin-top: -5px}
.player-cards h6 span.red {
    background-color: #f21a2c}
.player-cards h6 span.green {
    background-color: #5cb85c}
.flipcard {
    position: relative;
    width: 28px;
    height: 45px;
    perspective: 500px;
    display: inline-block;
    margin: 0 2px}
.flipcard.rotate {
    transform: rotate(90deg);
    padding-top: 7px;
    margin-left: 17px}
.flipcard.rotate-reverse {
    transform: rotate(-90deg);
    padding-top: 8px;
    margin-right: 17px}
.flipcard.v.flip .front,.flipcard.v:hover .front {
    transform: rotateX(180deg)}
.flipcard.v.flip .back,.flipcard.v:hover .back {
    transform: rotateX(0)}
.flipcard.v .back {
    transform: rotateX(-180deg)}
.flipcard.h.flip .front,.flipcard.h:hover .front {
    transform: rotateY(180deg)}
.flipcard.h.flip .back,.flipcard.h:hover .back {
    transform: rotateY(0)}
.flipcard.h .back {
    transform: rotateY(-180deg)}
.flipcard .back,.flipcard .front {
    position: absolute;
    width: 100%;
    height: 100%;
    box-sizing: border-box;
    transition: all .5s ease-in;
    color: #fff;
    -webkit-backface-visibility: hidden;
    backface-visibility: hidden}
.flipcard .back img,.flipcard .front img {
    max-width: 35px;}
.mbtn {
    display: none}

.game-title {
  color: #fccf34;
  font-weight: 700;
  line-height: 34px;
  font-size: 19px;
  margin: 0 0 0 10px;
  text-transform: uppercase;
}

.sm-table {
  display: none;
}

.reload-class{
  cursor: pointer;
}

.table.table-bordered{
  margin-bottom: 15px !important;
}

.table {
  table-layout:fixed;
}

.table td,.table th {
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

 /* Play Games Footer */
.game-footer-outer{
  width: calc(100% - 10px);
  height: 120px;
  border-radius: 5px;
  background-color: #fff;
  box-shadow: 0 0px 20px 0px #000;
  justify-content: flex-end;
  align-items: center;
  display: flex;
  display: none;

  position: relative;
  background-image: url("{% static 'images/Dus_ka_Dum_Bg.jpg' %}");
  background-repeat: no-repeat;
  background-position:top -28px left 38px;
  background-size: cover;
}
.games-footer img{
  position: absolute;
  top:0;
  left:0;
  height:120px;
  width:auto;
}


.games-ad-row .game-footer-outer{
  width: 100%;
  position: relative;
  bottom: inherit;
  right: inherit;
  left: inherit;
}

.dashboard_content .game-footer-outer{
  margin-top: 40px;
}

.play-and-win{
  font-size: 18px;
  font-weight: 600;
  padding: 10px 15px;
  border-radius: 5px;
  border: none;
  outline: none;
  color: #c5241d;
  background-color: white;
  box-shadow: 0 0 35px 10px #000;
  text-shadow: 0px 0px 3px #808080;
  margin-right: 35px;
}
.pw-close{
  position: absolute;
  right: 0;
  top: 0;
  color: #fff;
  background-color: #c72c264d;
  width: 20px;
  height: 20px;
  display: flex;
  justify-content: center;
  align-items: center;
  font-size: 15px;
  border-radius: 0 4px 0 4px;
  cursor: pointer;
}
.show-play-and-win {
  display: flex;
}

.game-footer-outer {
    /* display: none !important; */
    width: 600px;
    left: calc(50% - 300px);
    bottom: 15px;
}

.market_hide_team{
  text-align: left;
  background-color: white;
  color: rgb(73, 73, 74);
}

.market_show_team{
  text-align: left;
  background-color: rgb(132, 195, 65);
  color: rgb(255, 255, 255);
}

.market_div {
  padding-top: 20px;
}

@media(max-width: 767px){
  #show_play {
    display: none;
  }
  .marquee {
    display: none;
  }

  .sub-content{
    padding-top: 0;
  }

  .market_div {
    padding-top: 10px;
  }


}

@media (max-width: 767px){
  .refresh-btn {
      display: none !important;
  }
  .col-xs-3 {
    width: 25%;
}
}

@media all and (max-width: 480px) and (min-width: 300px) {
  .match-score {
    width: 75% !important;
  }

  .refresh-small-screen {
    width: 23.5% !important;
    padding-top: 18px !important;
    padding-bottom: 17px !important;
  }

  .refresh-small-screen img {
    width: 40px !important;
  }

  .place-amount.load-button-new-class {
      width: 100%;
      display: flex;
  }
  .sm-table{
    display: block;
  }
  .lg-table{
    display: none;
  }
  .place-amount-div input {
    width: 145px;
  }
  .button.alert.round {
  height: 50px;
  margin-top: 20px;
  padding-bottom: 20px;
  }
  .session-block {
    display: flex;
  }
  .market-block {
    display: flex;
  }
  .table td,.table th {
    white-space: unset;
  }
}
</style>
<script type="text/javascript">
  $(document).ready(function(){
    $("#ball_status").hide();
    $('[data-toggle="tooltip"]').tooltip();
    var old_over = '{{ team_score.overs }}'
    var formdata = {}
    formdata["marketId"] = "{{market_id}}"
    formdata["eventName"] = "{{event_name}}"
    formdata["eventId"] = "{{event_id}}"
    formdata["runnerName1"] = "{{runner1}}"
    formdata["runnerName2"] = "{{runner2}}"
    formdata["seriesId"] = "{{series_id}}"
    formdata["selectionId1"] = "{{section_id1}}"
    formdata["selectionId2"] = "{{section_id12}}"
    formdata["marketName"] = "{{market_name}}"
    formdata["marketType"] = "{{market_type}}"
     // setInterval(function(){
     //    $("#event_status").show();
     //    $("#ball_status").hide();
     //    $.get("{% url 'update_market' %}", formdata,
     //      function (data) {
     //        // console.log(data)
     //        $('.update_market_data').html(data);
     //        // var new_over = '{{ team_score.overs }}'
     //        $("#event_status").hide();
     //        $("#ball_status").show();

     //      });
     //      // console.log(old_over, new_over)

     //  // }
     //  },5000);

  });

  $("#pw_close_btn").click(function(){
  // function removeGameBanner(){
     $("#show_play").css("display", "none");
  });

  $('.market-form').submit(function(e){
    e.preventDefault();
    $.post("{% url 'create_bet' %}", $(this).serialize(), function(data){
      var data = data
      if(data.status == "success"){
        notify(data.message, "success")
        $(".market-form").hide();
        $(".enter-default-value").hide();
        location.reload(true);
      }else{
        notify(data.message, "error")
        $(".market-form").hide();
        $(".enter-default-value").hide();
      }
  });

});

$('.session-form').submit(function(e){
    e.preventDefault();
    $.post("{% url 'create_bet' %}", $(this).serialize(), function(data){
      var data = data
      if(data.status == "success"){
        notify(data.message, "success")
        $(".session-form").hide();
        $(".enter-default-value").hide();
        location.reload(true);
      }else{
        notify(data.message, "error")
        $(".session-form").hide();
        $(".enter-default-value").hide();
      }
  });

  function update_market(){
    // var formdata = {}
    // formdata["marketId"] = "{{market_id}}"
    // formdata["eventName"] = "{{event_name}}"
    // formdata["eventId"] = "{{event_id}}"
    // formdata["runnerName1"] = "{{runner1}}"
    // formdata["runnerName2"] = "{{runner12}}"
    // formdata["seriesId"] = "{{series_id}}"
    // formdata["selectionId1"] = "{{section_id1}}"
    // formdata["selectionId2"] = "{{section_id12}}"
    // formdata["marketName"] = "{{market_name}}"
    // formdata["marketType"] = "{{market_type}}"
    //  setInterval(function(){
    //   $.getJSON("{% url 'update_market' %}", formdata,
    //     function (data) {
    //       console.log(data)
    //     });
    //  },5000);
  }


});
</script>

{% endblock %}